{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAO,CACTC,OAAQC,SAASC,cAAc,kBAC/BC,SAAUF,SAASC,cAAc,aAG/BE,EAAW,sBACbC,EAAW,GAEfN,EAAKC,OAAOM,iBAAiB,SAAS,EAAAT,EAAAU,WAKtC,SAAyBC,GACrBA,EAAIC,iBAEJ,IAAMC,EAAaX,EAAKC,OAAOW,SAASC,MAAMC,MACxCC,EAAef,EAAKI,SAASU,MACnCR,EAAW,CAAEO,MAAOF,EAAYK,QAASD,GAEzCE,aAAaC,QAAQb,EAAUc,KAAKC,UAAUd,MAZc,MAChEN,EAAKC,OAAOM,iBAAiB,UAuB7B,SAAkBE,GACdA,EAAIC,iBAEJ,IAAMW,EAAYJ,aAAaK,QAAQjB,GACvC,GAAIgB,EAAW,CACX,IAAME,EAAgBJ,KAAKK,MAAMH,GACjCI,QAAQC,IAAIH,GAEhBN,aAAaU,WAAWtB,GACxBI,EAAImB,cAAcC,WAlBtB,WACI,IAAMR,EAAYJ,aAAaK,QAAQjB,GACvC,GAAIgB,EAAW,CACX,IAAME,EAAgBJ,KAAKK,MAAMH,GACjCrB,EAAKC,OAAOW,SAASC,MAAMC,MAAQS,EAAcV,OAAS,GAC1Db,EAAKI,SAASU,MAAQS,EAAcP,SAAW,IAjBvDc,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\n\nconst refs = {\n    formEl: document.querySelector('.feedback-form'),\n    textaria: document.querySelector('textarea')\n};\n\nconst FORM_KEY = 'feedback-form-state';\nlet formData = {};\n\nrefs.formEl.addEventListener('input', throttle(onTextAreaInput, 500));\nrefs.formEl.addEventListener('submit', onSubmit);\n\nreturnSavedValue();\n\nfunction onTextAreaInput(evt) {\n    evt.preventDefault();\n\n    const emailValue = refs.formEl.elements.email.value;\n    const messageValue = refs.textaria.value;\n    formData = { email: emailValue, message: messageValue };\n\n    localStorage.setItem(FORM_KEY, JSON.stringify(formData));\n}\n\nfunction returnSavedValue() {\n    const saveInput = localStorage.getItem(FORM_KEY);\n    if (saveInput) {\n        const parsSaveInput = JSON.parse(saveInput);\n        refs.formEl.elements.email.value = parsSaveInput.email || '';\n        refs.textaria.value = parsSaveInput.message || '';\n    }\n}\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n\n    const saveInput = localStorage.getItem(FORM_KEY);\n    if (saveInput) {\n        const parsSaveInput = JSON.parse(saveInput);\n        console.log(parsSaveInput);\n    }\n    localStorage.removeItem(FORM_KEY);\n    evt.currentTarget.reset();\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","formEl","document","querySelector","textaria","$b00c40859be242c5$var$FORM_KEY","$b00c40859be242c5$var$formData","addEventListener","throttle","evt","preventDefault","emailValue","elements","email","value","messageValue","message","localStorage","setItem","JSON","stringify","saveInput","getItem","parsSaveInput","parse","console","log","removeItem","currentTarget","reset","$b00c40859be242c5$var$returnSavedValue"],"version":3,"file":"03-feedback.4dbd1acc.js.map"}