{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAO,CACTC,OAAQC,SAASC,cAAc,kBAC/BC,SAAUF,SAASC,cAAc,aAIrC,IAAIE,EAAW,GAEfL,EAAKC,OAAOK,iBAAiB,SAAS,EAAAR,EAAAS,WAKtC,SAAyBC,GACrBA,EAAIC,iBAEJ,MAAMC,EAAaV,EAAKC,OAAOU,SAASC,MAAMC,MACxCC,EAAed,EAAKI,SAASS,MACnCR,EAAW,CAAEO,MAAOF,EAAYK,QAASD,GAEzCE,aAAaC,QAfA,sBAekBC,KAAKC,UAAUd,MAZc,MAChEL,EAAKC,OAAOK,iBAAiB,UAuB7B,SAAkBE,GACdA,EAAIC,iBAEJ,MAAMW,EAAYJ,aAAaK,QA9BlB,uBA+Bb,GAAID,EAAW,CACX,MAAME,EAAgBJ,KAAKK,MAAMH,GACjCI,QAAQC,IAAIH,GAEhBN,aAAaU,WAnCA,uBAoCblB,EAAImB,cAAcC,WAlBtB,WACI,MAAMR,EAAYJ,aAAaK,QAnBlB,uBAoBb,GAAID,EAAW,CACX,MAAME,EAAgBJ,KAAKK,MAAMH,GACjCpB,EAAKC,OAAOU,SAASC,MAAMC,MAAQS,EAAcV,OAAS,GAC1DZ,EAAKI,SAASS,MAAQS,EAAcP,SAAW,IAjBvDc","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\n\nconst refs = {\n    formEl: document.querySelector('.feedback-form'),\n    textaria: document.querySelector('textarea')\n};\n\nconst FORM_KEY = 'feedback-form-state';\nlet formData = {};\n\nrefs.formEl.addEventListener('input', throttle(onTextAreaInput, 500));\nrefs.formEl.addEventListener('submit', onSubmit);\n\nreturnSavedValue();\n\nfunction onTextAreaInput(evt) {\n    evt.preventDefault();\n\n    const emailValue = refs.formEl.elements.email.value;\n    const messageValue = refs.textaria.value;\n    formData = { email: emailValue, message: messageValue };\n\n    localStorage.setItem(FORM_KEY, JSON.stringify(formData));\n}\n\nfunction returnSavedValue() {\n    const saveInput = localStorage.getItem(FORM_KEY);\n    if (saveInput) {\n        const parsSaveInput = JSON.parse(saveInput);\n        refs.formEl.elements.email.value = parsSaveInput.email || '';\n        refs.textaria.value = parsSaveInput.message || '';\n    }\n}\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n\n    const saveInput = localStorage.getItem(FORM_KEY);\n    if (saveInput) {\n        const parsSaveInput = JSON.parse(saveInput);\n        console.log(parsSaveInput);\n    }\n    localStorage.removeItem(FORM_KEY);\n    evt.currentTarget.reset();\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","formEl","document","querySelector","textaria","$945622fd0f572e60$var$formData","addEventListener","throttle","evt","preventDefault","emailValue","elements","email","value","messageValue","message","localStorage","setItem","JSON","stringify","saveInput","getItem","parsSaveInput","parse","console","log","removeItem","currentTarget","reset","$945622fd0f572e60$var$returnSavedValue"],"version":3,"file":"03-feedback.b08a1a68.js.map"}